(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51058e93"],{"4a2f":function(e,s,a){"use strict";var t=a("dfbe"),r=a.n(t);r.a},"56a6":function(e,s,a){"use strict";var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"message-alert"},e._l(e.messages,function(s,t){return a("div",{key:t,staticClass:"alert alert-dismissible",class:"alert-"+s.status},[a("span",{staticClass:"mr-5"},["success"===s.status?a("i",{staticClass:"far fa-thumbs-up"}):a("i",{staticClass:"far fa-thumbs-down"}),s.data?a("span",[e._v(e._s(s.data.product.title)+"x"+e._s(s.data.qty))]):e._e(),e._v("\n      "+e._s(s.message)+"\n    ")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(s){e.removeMessage(t)}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}),0)},r=[],o=(a("cadf"),a("551c"),a("097d"),{name:"Navbar",data:function(){return{}},methods:{removeMessage:function(e){this.$store.dispatch("messageModules/removeMessage",e)}},computed:{messages:function(){return this.$store.state.messageModules.messages}}}),i=o,n=(a("4a2f"),a("2877")),l=Object(n["a"])(i,t,r,!1,null,null,null);s["a"]=l.exports},"6f8e":function(e,s,a){"use strict";a.r(s);var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",[a("div",{staticClass:"py-5 row justify-content-center"},[a("form",{staticClass:"col-md-6",on:{submit:function(s){return s.preventDefault(),e.createOrder(s)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useremail"}},[e._v("Email")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:e.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email",required:""},domProps:{value:e.form.user.email},on:{input:function(s){s.target.composing||e.$set(e.form.user,"email",s.target.value)}}}),e.errors.has("email")?a("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("email")))]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[e._v("收件人姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:e.form.user.name},on:{input:function(s){s.target.composing||e.$set(e.form.user,"name",s.target.value)}}}),e.errors.has("name")?a("span",{staticClass:"text-danger"},[e._v("姓名必須輸入")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usertel"}},[e._v("收件人電話")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("tel")},attrs:{type:"tel",name:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:e.form.user.tel},on:{input:function(s){s.target.composing||e.$set(e.form.user,"tel",s.target.value)}}}),e.errors.has("tel")?a("span",{staticClass:"text-danger"},[e._v("電話必須輸入")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[e._v("收件人地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("address")},attrs:{type:"address",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:e.form.user.address},on:{input:function(s){s.target.composing||e.$set(e.form.user,"address",s.target.value)}}}),e.errors.has("address")?a("span",{staticClass:"text-danger"},[e._v("地址欄位不得留空")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"userpayment_method"}},[e._v("付款方式")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.payment_method,expression:"form.user.payment_method"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("payment_method")},attrs:{type:"address",name:"payment_method",id:"userpayment_method",placeholder:"請輸入付款方式"},domProps:{value:e.form.user.payment_method},on:{input:function(s){s.target.composing||e.$set(e.form.user,"payment_method",s.target.value)}}}),e.errors.has("payment_method")?a("span",{staticClass:"text-danger"},[e._v("付款方式不得留空")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[e._v("留言")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:e.form.message},on:{input:function(s){s.target.composing||e.$set(e.form,"message",s.target.value)}}})]),e._m(0)])])])},r=[function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger"},[e._v("送出訂單")])])}],o=(a("2f62"),a("56a6")),i={components:{Alert:o["a"]},data:function(){return{form:{user:{name:"",email:"",tel:"",address:"",payment_method:""},message:""}}},methods:{createOrder:function(){var e=this,s=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("kakerudemo","/order"),t=s.form;s.$store.commit("LOADING",!0),this.$validator.validate().then(function(r){if(r)e.$http.post(a,{data:t}).then(function(e){console.log("訂單已建立",e.data),e.data.success&&s.$router.push("/checkout/".concat(e.data.orderId)),s.$store.commit("LOADING",!1)});else{console.log("欄位不完整",r);var o={message:"欄位不完整",status:"danger"};console.log("欄位不完整?",o),s.$store.dispatch("messageModules/updateMessage",o,{root:!0}),s.$store.commit("LOADING",!1)}})},updateActiveOfCheckout:function(e){this.$store.dispatch("updateCheckoutActive",e)}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){this.updateActiveOfCheckout("address")}},n=i,l=a("2877"),m=Object(l["a"])(n,t,r,!1,null,null,null);s["default"]=m.exports},dfbe:function(e,s,a){}}]);
//# sourceMappingURL=chunk-51058e93.0c3f8e4c.js.map