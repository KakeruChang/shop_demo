(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a449000"],{"355d":function(t,e){e.f={}.propertyIsEnumerable},5176:function(t,e,a){t.exports=a("51b6")},"51b6":function(t,e,a){a("a3c3"),t.exports=a("584a").Object.assign},9306:function(t,e,a){"use strict";var s=a("c3a1"),i=a("9aa9"),o=a("355d"),r=a("241e"),n=a("335c"),l=Object.assign;t.exports=!l||a("294c")(function(){var t={},e={},a=Symbol(),s="abcdefghijklmnopqrst";return t[a]=7,s.split("").forEach(function(t){e[t]=t}),7!=l({},t)[a]||Object.keys(l({},e)).join("")!=s})?function(t,e){var a=r(t),l=arguments.length,d=1,c=i.f,m=o.f;while(l>d){var p,u=n(arguments[d++]),v=c?s(u).concat(c(u)):s(u),f=v.length,g=0;while(f>g)m.call(u,p=v[g++])&&(a[p]=u[p])}return a}:l},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},a3c3:function(t,e,a){var s=a("63b6");s(s.S+s.F,"Object",{assign:a("9306")})},bf4b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.orderList,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.create_at))]),a("td",[a("p",[t._v("姓名:"+t._s(e.user.name))]),a("p",[t._v("地址:"+t._s(e.user.address))]),a("p",[t._v("電子郵件:"+t._s(e.user.email))])]),a("td",t._l(e.products,function(e){return a("p",{key:e.id},[t._v(t._s(e.product.title)+" 數量:"+t._s(e.qty)+t._s(e.product.unit))])}),0),a("td",[t._v(t._s(Math.floor(e.total)))]),a("td",[e.is_paid?a("span",{staticClass:"text-success"},[t._v("已付款")]):a("span",{staticClass:"text-danger"},[t._v("未付款")])]),a("td",[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){t.Openmodal(e)}}},[t._v("編輯")])])])}),0)]),t.pagination.total_pages>1?a("Pagination",{attrs:{"page-data":t.pagination},on:{pagemove:t.getOrderList}}):t._e(),a("div",{staticClass:"modal fade",attrs:{id:"orderListModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"create_at"}},[t._v("訂單成立時間")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.create_at,expression:"tempList.create_at"}],staticClass:"form-control",attrs:{type:"text",id:"create_at",disabled:""},domProps:{value:t.tempList.create_at},on:{input:function(e){e.target.composing||t.$set(t.tempList,"create_at",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("是否付款")]),a("br"),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.is_paid,expression:"tempList.is_paid"}],staticClass:"form-check-input",attrs:{type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"true"},domProps:{checked:t._q(t.tempList.is_paid,"true")},on:{change:function(e){t.$set(t.tempList,"is_paid","true")}}}),a("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio1"}},[t._v("是")])]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.is_paid,expression:"tempList.is_paid"}],staticClass:"form-check-input",attrs:{type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"false"},domProps:{checked:t._q(t.tempList.is_paid,"false")},on:{change:function(e){t.$set(t.tempList,"is_paid","false")}}}),a("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio2"}},[t._v("否")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"message"}},[t._v("留言")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.message,expression:"tempList.message"}],staticClass:"form-control",attrs:{type:"text",id:"message"},domProps:{value:t.tempList.message},on:{input:function(e){e.target.composing||t.$set(t.tempList,"message",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"payment_method"}},[t._v("付款方式")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.user.payment_method,expression:"tempList.user.payment_method"}],staticClass:"form-control",attrs:{type:"text",id:"payment_method"},domProps:{value:t.tempList.user.payment_method},on:{input:function(e){e.target.composing||t.$set(t.tempList.user,"payment_method",e.target.value)}}})]),a("div",{staticClass:"form-group"},[t._m(2),t._l(t.tempList.products,function(e){return a("div",{key:e.id,staticClass:"form-row"},[a("div",{staticClass:"col-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.product.title,expression:"item.product.title"}],staticClass:"form-control",attrs:{type:"text",id:"product_title",disabled:""},domProps:{value:e.product.title},on:{input:function(a){a.target.composing||t.$set(e.product,"title",a.target.value)}}})]),a("div",{staticClass:"col-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control",attrs:{type:"text",id:"product_qty"},domProps:{value:e.qty},on:{input:function(a){a.target.composing||t.$set(e,"qty",a.target.value)}}})]),a("div",{staticClass:"col-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.product.unit,expression:"item.product.unit"}],staticClass:"form-control",attrs:{type:"text",id:"product_coupon",disabled:""},domProps:{value:e.product.unit},on:{input:function(a){a.target.composing||t.$set(e.product,"unit",a.target.value)}}})]),a("span",{staticClass:"h5"},[t._v("優惠:")]),a("div",{staticClass:"col-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.coupon.percent,expression:"item.coupon.percent"}],staticClass:"form-control",attrs:{type:"text",id:"product_unit",disabled:""},domProps:{value:e.coupon.percent},on:{input:function(a){a.target.composing||t.$set(e.coupon,"percent",a.target.value)}}})]),a("span",{staticClass:"h5"},[t._v("%")])])})],2),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"total"}},[t._v("訂單總額")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.total,expression:"tempList.total"}],staticClass:"form-control",attrs:{type:"text",id:"total"},domProps:{value:t.tempList.total},on:{input:function(e){e.target.composing||t.$set(t.tempList,"total",e.target.value)}}})]),a("div",{staticClass:"form-group"},[t._m(3),a("br"),t._v("姓名\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.user.name,expression:"tempList.user.name"}],staticClass:"form-control",attrs:{type:"text",id:"user_name"},domProps:{value:t.tempList.user.name},on:{input:function(e){e.target.composing||t.$set(t.tempList.user,"name",e.target.value)}}}),a("br"),t._v("電話\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.user.tel,expression:"tempList.user.tel"}],staticClass:"form-control",attrs:{type:"text",id:"user_tel"},domProps:{value:t.tempList.user.tel},on:{input:function(e){e.target.composing||t.$set(t.tempList.user,"tel",e.target.value)}}}),a("br"),t._v("電子郵件\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.user.email,expression:"tempList.user.email"}],staticClass:"form-control",attrs:{type:"text",id:"user_email"},domProps:{value:t.tempList.user.email},on:{input:function(e){e.target.composing||t.$set(t.tempList.user,"email",e.target.value)}}}),a("br"),t._v("通訊地址\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.user.address,expression:"tempList.user.address"}],staticClass:"form-control",attrs:{type:"text",id:"user_address"},domProps:{value:t.tempList.user.address},on:{input:function(e){e.target.composing||t.$set(t.tempList.user,"address",e.target.value)}}})])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateOrderList}},[t._v("確認")])])])])])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("購買時間")]),a("th",[t._v("會員資料")]),a("th",[t._v("購買品項")]),a("th",[t._v("應付金額")]),a("th",[t._v("已否付款")]),a("th",[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("修改訂單資料")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"user"}},[a("strong",[t._v("訂單明細")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:""}},[a("strong",[t._v("連絡資料")])])}],o=a("5176"),r=a.n(o),n=(a("cadf"),a("551c"),a("097d"),a("1157")),l=a.n(n),d={data:function(){return{orderList:[],pagination:{},tempList:{user:{name:"",email:"",address:"",tel:""},products:[]},isLoading:!1}},methods:{getOrderList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("kakerudemo","/admin/orders?page=").concat(t),a=this;a.isLoading=!0,a.$http.get(e).then(function(t){console.log("getOrderList()",t.data),a.isLoading=!1,a.orderList=t.data.orders,a.pagination=t.data.pagination})},Openmodal:function(t){this.tempList=r()({},t),l()("#orderListModal").modal("show")},updateOrderList:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("kakerudemo","/admin/order/").concat(t.tempList.id);this.$http.put(e,{data:t.tempList}).then(function(e){console.log(e.data),e.data.success?(l()("#orderListModal").modal("hide"),t.getOrderList(t.pagination.current_page),console.log("修改成功")):(l()("#orderListModal").modal("hide"),t.getOrderList(),console.log("修改失敗"))})}},created:function(){this.getOrderList()}},c=d,m=a("2877"),p=Object(m["a"])(c,s,i,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-3a449000.dcccd6ca.js.map