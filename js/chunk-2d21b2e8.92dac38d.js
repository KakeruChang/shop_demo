(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21b2e8"],{bf4b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),s("table",{staticClass:"table mt-4"},[t._m(0),s("tbody",t._l(t.orderList,function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.create_at))]),s("td",[s("p",[t._v("姓名:"+t._s(e.user.name))]),s("p",[t._v("地址:"+t._s(e.user.address))]),s("p",[t._v("電子郵件:"+t._s(e.user.email))])]),s("td",t._l(e.products,function(e){return s("p",{key:e.id},[t._v(t._s(e.product.title)+" 數量:"+t._s(e.qty)+t._s(e.product.unit))])}),0),s("td",[t._v(t._s(Math.floor(e.total)))]),s("td",[e.is_paid?s("span",{staticClass:"text-success"},[t._v("已付款")]):s("span",{staticClass:"text-danger"},[t._v("未付款")])]),s("td",[s("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(s){t.Openmodal(e)}}},[t._v("編輯")])])])}),0)]),t.pagination.total_pages>1?s("Pagination",{attrs:{"page-data":t.pagination},on:{pagemove:t.getOrderList}}):t._e(),s("div",{staticClass:"modal fade",attrs:{id:"orderListModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content border-0"},[t._m(1),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"create_at"}},[t._v("訂單成立時間")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.create_at,expression:"tempList.create_at"}],staticClass:"form-control",attrs:{type:"text",id:"create_at",disabled:""},domProps:{value:t.tempList.create_at},on:{input:function(e){e.target.composing||t.$set(t.tempList,"create_at",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("是否付款")]),s("br"),s("div",{staticClass:"form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.is_paid,expression:"tempList.is_paid"}],staticClass:"form-check-input",attrs:{type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"true"},domProps:{checked:t._q(t.tempList.is_paid,"true")},on:{change:function(e){t.$set(t.tempList,"is_paid","true")}}}),s("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio1"}},[t._v("是")])]),s("div",{staticClass:"form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.is_paid,expression:"tempList.is_paid"}],staticClass:"form-check-input",attrs:{type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"false"},domProps:{checked:t._q(t.tempList.is_paid,"false")},on:{change:function(e){t.$set(t.tempList,"is_paid","false")}}}),s("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio2"}},[t._v("否")])])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"message"}},[t._v("留言")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.message,expression:"tempList.message"}],staticClass:"form-control",attrs:{type:"text",id:"message"},domProps:{value:t.tempList.message},on:{input:function(e){e.target.composing||t.$set(t.tempList,"message",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"payment_method"}},[t._v("付款方式")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.user.payment_method,expression:"tempList.user.payment_method"}],staticClass:"form-control",attrs:{type:"text",id:"payment_method"},domProps:{value:t.tempList.user.payment_method},on:{input:function(e){e.target.composing||t.$set(t.tempList.user,"payment_method",e.target.value)}}})]),s("div",{staticClass:"form-group"},[t._m(2),t._l(t.tempList.products,function(e){return s("div",{key:e.id,staticClass:"form-row"},[s("div",{staticClass:"col-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.product.title,expression:"item.product.title"}],staticClass:"form-control",attrs:{type:"text",id:"product_title",disabled:""},domProps:{value:e.product.title},on:{input:function(s){s.target.composing||t.$set(e.product,"title",s.target.value)}}})]),s("div",{staticClass:"col-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control",attrs:{type:"text",id:"product_qty"},domProps:{value:e.qty},on:{input:function(s){s.target.composing||t.$set(e,"qty",s.target.value)}}})]),s("div",{staticClass:"col-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.product.unit,expression:"item.product.unit"}],staticClass:"form-control",attrs:{type:"text",id:"product_coupon",disabled:""},domProps:{value:e.product.unit},on:{input:function(s){s.target.composing||t.$set(e.product,"unit",s.target.value)}}})]),s("span",{staticClass:"h5"},[t._v("優惠:")]),s("div",{staticClass:"col-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.coupon.percent,expression:"item.coupon.percent"}],staticClass:"form-control",attrs:{type:"text",id:"product_unit",disabled:""},domProps:{value:e.coupon.percent},on:{input:function(s){s.target.composing||t.$set(e.coupon,"percent",s.target.value)}}})]),s("span",{staticClass:"h5"},[t._v("%")])])})],2),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"total"}},[t._v("訂單總額")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.total,expression:"tempList.total"}],staticClass:"form-control",attrs:{type:"text",id:"total"},domProps:{value:t.tempList.total},on:{input:function(e){e.target.composing||t.$set(t.tempList,"total",e.target.value)}}})]),s("div",{staticClass:"form-group"},[t._m(3),s("br"),t._v("姓名\n                "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.user.name,expression:"tempList.user.name"}],staticClass:"form-control",attrs:{type:"text",id:"user_name"},domProps:{value:t.tempList.user.name},on:{input:function(e){e.target.composing||t.$set(t.tempList.user,"name",e.target.value)}}}),s("br"),t._v("電話\n                "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.user.tel,expression:"tempList.user.tel"}],staticClass:"form-control",attrs:{type:"text",id:"user_tel"},domProps:{value:t.tempList.user.tel},on:{input:function(e){e.target.composing||t.$set(t.tempList.user,"tel",e.target.value)}}}),s("br"),t._v("電子郵件\n                "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.user.email,expression:"tempList.user.email"}],staticClass:"form-control",attrs:{type:"text",id:"user_email"},domProps:{value:t.tempList.user.email},on:{input:function(e){e.target.composing||t.$set(t.tempList.user,"email",e.target.value)}}}),s("br"),t._v("通訊地址\n                "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempList.user.address,expression:"tempList.user.address"}],staticClass:"form-control",attrs:{type:"text",id:"user_address"},domProps:{value:t.tempList.user.address},on:{input:function(e){e.target.composing||t.$set(t.tempList.user,"address",e.target.value)}}})])])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateOrderList}},[t._v("確認")])])])])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("購買時間")]),s("th",[t._v("會員資料")]),s("th",[t._v("購買品項")]),s("th",[t._v("應付金額")]),s("th",[t._v("已否付款")]),s("th",[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header bg-dark text-white"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[s("span",[t._v("修改訂單資料")])]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"user"}},[s("strong",[t._v("訂單明細")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:""}},[s("strong",[t._v("連絡資料")])])}],o=s("5176"),r=s.n(o),n=(s("cadf"),s("551c"),s("097d"),s("1157")),l=s.n(n),d={data:function(){return{orderList:[],pagination:{},tempList:{user:{name:"",email:"",address:"",tel:""},products:[]},isLoading:!1}},methods:{getOrderList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("kakerudemo","/admin/orders?page=").concat(t),s=this;s.isLoading=!0,s.$http.get(e).then(function(t){console.log("getOrderList()",t.data),s.isLoading=!1,s.orderList=t.data.orders,s.pagination=t.data.pagination})},Openmodal:function(t){this.tempList=r()({},t),l()("#orderListModal").modal("show")},updateOrderList:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("kakerudemo","/admin/order/").concat(t.tempList.id);this.$http.put(e,{data:t.tempList}).then(function(e){console.log(e.data),e.data.success?(l()("#orderListModal").modal("hide"),t.getOrderList(t.pagination.current_page),console.log("修改成功")):(l()("#orderListModal").modal("hide"),t.getOrderList(),console.log("修改失敗"))})}},created:function(){this.getOrderList()}},m=d,c=s("2877"),p=Object(c["a"])(m,a,i,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d21b2e8.92dac38d.js.map